{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-10-02--iman3-js/","webpackCompilationHash":"ff4537e13b3a1c3cc0ff","result":{"data":{"markdownRemark":{"html":"<p>Today we are going to show you things about JavaScript, its running environement: browser, how to play with dom, event, D3 and draw a small map as an ending.</p>\n<p>By clicking the example page in the link below, we can see the number increases. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript=\"><pre class=\"language-javascript=\"><code class=\"language-javascript=\">const reading = document.querySelector(`#count`)\nlet count = 0\ndocument.addEventListener(`click`, (event)=&gt;{\n    count = count + 1\n    reading.innerHTML = `Count: ${count}`\n})</code></pre></div>\n<p> <a href=\"https://codepen.io/owlfox/pen/bGbyZjV\">https://codepen.io/owlfox/pen/bGbyZjV</a>\n\"object\" is a common term/concept in programming. Here you can treat it as packing related information/code together for easy access.\nAs for the codes above</p>\n<ul>\n<li><code class=\"language-text\">document</code> is a global object available while JS running in browser. It is the actual data structure of the HTML after being parsed by the browser.</li>\n<li>We executed the <code class=\"language-text\">querySelector</code> method in <code class=\"language-text\">document</code> object, ask it to search an element in html with <code class=\"language-text\">id</code> equals to <code class=\"language-text\">could</code>, and then return the result to the constant variable <code class=\"language-text\">reading</code></li>\n<li>Then we use the addEventListener method from document to allow the browser do the work while somene clicked the document. Here the work is add 1 to the count variable, and change the text of <code class=\"language-text\">reading</code> element</li>\n</ul>\n<h2>some history</h2>\n<p>JavaScript（ hereinafter called JS）was crafted by Mr. Brendan Eich, who was working for Netscape at 1995. It was a language designed to be executed on their own browser at a time which IE, Chrome, Firefox were not exist.</p>\n<p>This langualge enables the browser to interact with user inputs after opened the url, fetched html file and rendered the stuff in the window.</p>\n<p>JS is adopted by the rest of the browsers. Then here comes European Computer Manufacturers Association (ECMA), organizing with different companies, make a JS specification, allows the same JS file to be able to be runned on different browsers and comes out the same results. There are different versions of the specm and we also call JavaScript as EcmaScript. Sometimes you might find a version of JS called ES2015/ES6. That's the most popular one at the moment. If you would like to know if a spec of JS or CSS is available on different browsers check the website named <a href=\"https://caniuse.com/#search=ES2015\">caniuse</a>.</p>\n<h3>DOM</h3>\n<p>DOM, Document Object Model, a jargon you know the meaning of every words while have no idea what it is when they write together. Here I think it as the strickly structured format of how different vendors of browser store the parsed html file into a object for JS and CSS to access. <a href=\"https://www.w3.org/DOM/\">W3C</a> is the organization to draft and release the spec of DOM and many other stuff. The above is an example of manuplating DOM.</p>\n<h2>Chrome <a href=\"https://developers.google.com/web/tools/chrome-devtools/?hl=zh-tw\">Developer tool</a></h2>\n<p>While we were developing our code/service, unexpected errors/behaviours happen from time to time. For web application, our browser could also be an helpful tool to find where went wrong. Right click on the page -> inspect element will pop a small window to display the source html code of the page, the CSS styles applied. While in the <code class=\"language-text\">source</code> tab, you can also add break points in your code to inspect the states of the program at a specific line of code. As for <code class=\"language-text\">consle</code> tab, you can write code there to see the results, error message, runtime states. Lastly the <code class=\"language-text\">network</code> tab shows you when and what browser requested/sent with this web application. </p>\n<p>For the example code below you can just paste them into the console to see the results.</p>\n<h2>intro to some of the ES6 syntaxs</h2>\n<p>Below is the list of ES6 syntaxs we will use during the series:</p>\n<ul>\n<li><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements/const\">const</a>, assign once, won't change later</li>\n<li><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements/let\">let</a> ，for the rest of the const use let</li>\n<li><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements/var\">var</a> （older syntax, easy to make scope mistakes, avoid using it）</li>\n<li><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Functions/Arrow_functions\">箭頭函式(()=>())</a> shorter syntax for a function, good to use as argument for<code class=\"language-text\">map, filter</code> functions。</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules\">module</a> packing/orgrnizing your code base with export/import syntax</li>\n<li>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes\">classes</a> a popular language feature supported since ES6 。\nClass is like a blueprint of building a house, which we can pack the related data/code together.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript=\"><pre class=\"language-javascript=\"><code class=\"language-javascript=\">class Animal {\nconstructor(name) {\n this.name = name\n}\nprintName() {\n console.log(this.name)\n}\n}</code></pre></div>\n</li>\n</ul>\n<p>class Dog extends Animal {\nbark() {\nconsole.log(<code class=\"language-text\">${this.name}: Bow!</code>)\n}\n}</p>\n<p>let beddy = new Dog(\"beddy\")\nbeddy.bark()\n//beddy: Bow!</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* ... spread/Rest operator\na syntax sugar ... to spread a array\n```javascript=\nlet a = [1,2,3]\nlet b = [...a, 4] //[1,2,3,4]</code></pre></div>\n<p>or pack arguments of function into a array</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript=\"><pre class=\"language-javascript=\"><code class=\"language-javascript=\">function f(...args){\n    return args.filter(e=&gt;e===1)\n}\nf(1,2,3,4) //return [1]</code></pre></div>\n<ul>\n<li>\n<p><a href=\"https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\">destructuring</a> withdraw the needed part of array or object </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript=\"><pre class=\"language-javascript=\"><code class=\"language-javascript=\">let a, b = 1, 2\n[a,b] = [b,a]\nlet a = {name:&quot;beddy&quot;, age: -1}\nlet {name, age} = a </code></pre></div>\n</li>\n<li>\n<p>Reference / Primitive types\nJS has 6 primitive types <code class=\"language-text\">string、number、boolean、null、undefined、symbol</code>, and many other objects。 while we were assigning value to a variable, primitive typed value will get copied while others are just a reference.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript=\"><pre class=\"language-javascript=\"><code class=\"language-javascript=\">let a = 2\nlet b = a\nb = 3\nconsole.log(a,b) \n//2,3 a real copy</code></pre></div>\n</li>\n</ul>\n<p>let c = [1]\nlet d = c\nd.push(2)\nconsole.log(c,d)\n//[1,2] [1,2] just a reference,\n//you are playing the same object</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">* [map](https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/map) the map here is not a web map but a JS  function to &quot;map&quot; every elements of an array. Example:\n```javascript=\nconst places = [&quot;高雄&quot;, &quot;台灣&quot;, &quot;宇宙&quot;]\nconst slogans = places.map(e=&gt;e+&quot;發大財&quot;) \n// slogans 變成 [&quot;高雄發大財&quot;, &quot;台灣發大財&quot;, &quot;宇宙發大財&quot;]</code></pre></div>\n<h2>AJAX</h2>\n<p>Do you have a memory of clicking a webpage and every time you clicked you have to wait the browser to reload the page, which is quite annoying? If not, dont talk to me!\nOur browser comes with ability to fetch the data without reloading the pack since 1999, AJAX crafted by Microsoft. See the example below:\n<a href=\"https://www.maptiler.com/google-maps-coordinates-tile-bounds-projection/\">https://www.maptiler.com/google-maps-coordinates-tile-bounds-projection/</a>\nWhile we were pan/zooming the map, browser fetched the pictures of different resolution under the hood. It would be quite frustratingunusable if we have to reload the page every time we interact with the map.</p>\n<h2>JS library</h2>\n<p>Above are the objects, syntaxes supported out of the box, or say VanillaJS.\n\"Dont reinvent the wheel\" is a famous quote from software sommunity. You can find nearly every feature/function you need from the internet written by someone else. The \"module\" tool above is to help us reuse the works done by the world.</p>\n<p>Like the <code class=\"language-text\">document.selector</code> syntax abobe, you can use a library called D3.js to make them shorter and easier to read/maintain. D3 can also be used to draw graph, maps and many other things!</p>\n<h2>draw a map with D3</h2>\n<p>example：\n<a href=\"http://bl.ocks.org/owlfox/198b5deaacf59a0495513c6dba239943\">http://bl.ocks.org/owlfox/198b5deaacf59a0495513c6dba239943</a></p>\n<p>The above code is adopted from the book in the reference, I am still trying to find a good Taiwan geodat though.. For the information of how to import JS library/file, please have a look at <a href=\"https://www.digitalocean.com/community/tutorials/how-to-add-javascript-to-html\">this article</a>。</p>\n<p>There are json files and many d3.js codes involved, we will continue our study tomorrow(?)</p>\n<h3>Exercise</h3>\n<ul>\n<li>Write a code to click an webpage like crazy automatically</li>\n</ul>\n<h3>next episode</h3>\n<ul>\n<li>data formats:\ncsv, svg/canvas, png, gif, shapefile, geojson, topojson\nlatitude, longitude, globe and projections</li>\n<li>more D3 example, and intro</li>\n</ul>\n<h1>reference</h1>\n<ul>\n<li>Maximilian Schwarzmüller's course  of  React </li>\n<li><a href=\"https://www.packtpub.com/web-development/learning-d3js-5-mapping-second-edition\">Learning D3.js 5 Mapping - Second Edition</a></li>\n</ul>","frontmatter":{"title":"iman3 some JavaScripts","date":"02 October, 2019","tags":["ironman"]}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019-10-02--iman3-js/"}}}